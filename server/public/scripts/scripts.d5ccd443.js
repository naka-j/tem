function debounce(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}}var transparent=!0,transparentDemo=!0,fixedTop=!1,navbar_initialized=!1;$(document).ready(function(){$.material.init(),$('[data-toggle="tooltip"], [rel="tooltip"]').tooltip(),0!=$(".datepicker").length&&$(".datepicker").datepicker({weekStart:1}),0!=$(".navbar-color-on-scroll").length&&$(window).on("scroll",materialKit.checkScrollForTransparentNavbar),$('[data-toggle="popover"]').popover(),$(".carousel").carousel({interval:4e5})}),materialKit={misc:{navbar_menu_visible:0},checkScrollForTransparentNavbar:debounce(function(){$(document).scrollTop()>260?transparent&&(transparent=!1,$(".navbar-color-on-scroll").removeClass("navbar-transparent")):transparent||(transparent=!0,$(".navbar-color-on-scroll").addClass("navbar-transparent"))},17),initSliders:function(){$("#sliderRegular").noUiSlider({start:40,connect:"lower",range:{min:0,max:100}}),$("#sliderDouble").noUiSlider({start:[20,60],connect:!0,range:{min:0,max:100}})}};var big_image;materialKitDemo={checkScrollForParallax:debounce(function(){$(this).scrollTop();oVal=$(window).scrollTop()/3,big_image.css({transform:"translate3d(0,"+oVal+"px,0)","-webkit-transform":"translate3d(0,"+oVal+"px,0)","-ms-transform":"translate3d(0,"+oVal+"px,0)","-o-transform":"translate3d(0,"+oVal+"px,0)"})},6)},!function(a){function b(a){return"undefined"==typeof a.which?!0:"number"==typeof a.which&&a.which>0?!a.ctrlKey&&!a.metaKey&&!a.altKey&&8!=a.which&&9!=a.which&&13!=a.which&&16!=a.which&&17!=a.which&&20!=a.which&&27!=a.which:!1}function c(b){var c=a(b);c.prop("disabled")||c.closest(".form-group").addClass("is-focused")}function d(b){b.closest("label").hover(function(){var b=a(this).find("input");b.prop("disabled")||c(b)},function(){e(a(this).find("input"))})}function e(b){a(b).closest(".form-group").removeClass("is-focused")}a.expr[":"].notmdproc=function(b){return a(b).data("mdproc")?!1:!0},a.material={options:{validate:!0,input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".footer a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple",".pagination li:not(.active):not(.disabled) a:not(.withoutripple)"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(b){var c=a(b?b:this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class='checkbox-material'><span class='check'></span></span>");d(c)},togglebutton:function(b){var c=a(b?b:this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class='toggle'></span>");d(c)},radio:function(b){var c=a(b?b:this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class='circle'></span><span class='check'></span>");d(c)},input:function(b){a(b?b:this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var b=a(this),c=b.closest(".form-group");0===c.length&&(b.wrap("<div class='form-group'></div>"),c=b.closest(".form-group")),b.attr("data-hint")&&(b.after("<p class='help-block'>"+b.attr("data-hint")+"</p>"),b.removeAttr("data-hint"));var d={"input-lg":"form-group-lg","input-sm":"form-group-sm"};if(a.each(d,function(a,d){b.hasClass(a)&&(b.removeClass(a),c.addClass(d))}),b.hasClass("floating-label")){var e=b.attr("placeholder");b.attr("placeholder",null).removeClass("floating-label");var f=b.attr("id"),g="";f&&(g="for='"+f+"'"),c.addClass("label-floating"),b.after("<label "+g+"class='control-label'>"+e+"</label>")}(null===b.val()||"undefined"==b.val()||""===b.val())&&c.addClass("is-empty"),c.append("<span class='material-input'></span>"),c.find("input[type=file]").length>0&&c.addClass("is-fileinput")})},attachInputEventHandlers:function(){var d=this.options.validate;a(document).on("change",".checkbox input[type=checkbox]",function(){a(this).blur()}).on("keydown paste",".form-control",function(c){b(c)&&a(this).closest(".form-group").removeClass("is-empty")}).on("keyup change",".form-control",function(){var b=a(this),c=b.closest(".form-group"),e="undefined"==typeof b[0].checkValidity||b[0].checkValidity();""===b.val()?c.addClass("is-empty"):c.removeClass("is-empty"),d&&(e?c.removeClass("has-error"):c.addClass("has-error"))}).on("focus",".form-control, .form-group.is-fileinput",function(){c(this)}).on("blur",".form-control, .form-group.is-fileinput",function(){e(this)}).on("change",".form-group input",function(){var b=a(this);if("file"!=b.attr("type")){var c=b.closest(".form-group"),d=b.val();d?c.removeClass("is-empty"):c.addClass("is-empty")}}).on("change",".form-group.is-fileinput input[type='file']",function(){var b=a(this),c=b.closest(".form-group"),d="";a.each(this.files,function(a,b){d+=b.name+", "}),d=d.substring(0,d.length-2),d?c.removeClass("is-empty"):c.addClass("is-empty"),c.find("input.form-control[readonly]").val(d)})},ripples:function(b){a(b?b:this.options.withRipples).ripples()},autofill:function(){var b=setInterval(function(){a("input[type!=checkbox]").each(function(){var b=a(this);b.val()&&b.val()!==b.attr("value")&&b.trigger("change")})},100);setTimeout(function(){clearInterval(b)},1e4)},attachAutofillEventHandlers:function(){var b;a(document).on("focus","input",function(){var c=a(this).parents("form").find("input").not("[type=file]");b=setInterval(function(){c.each(function(){var b=a(this);b.val()!==b.attr("value")&&b.trigger("change")})},100)}).on("blur",".form-group input",function(){clearInterval(b)})},init:function(b){this.options=a.extend({},this.options,b);var c=a(document);a.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&(this.input(),this.attachInputEventHandlers()),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&(this.autofill(),this.attachAutofillEventHandlers()),document.arrive&&this.options.arrive&&(a.fn.ripples&&this.options.ripples&&c.arrive(this.options.withRipples,function(){a.material.ripples(a(this))}),this.options.input&&c.arrive(this.options.inputElements,function(){a.material.input(a(this))}),this.options.checkbox&&c.arrive(this.options.checkboxElements,function(){a.material.checkbox(a(this))}),this.options.radio&&c.arrive(this.options.radioElements,function(){a.material.radio(a(this))}),this.options.togglebutton&&c.arrive(this.options.togglebuttonElements,function(){a.material.togglebutton(a(this))}))}}}(jQuery),function(a,b,c,d){"use strict";function e(b,c){g=this,this.element=a(b),this.options=a.extend({},h,c),this._defaults=h,this._name=f,this.init()}var f="ripples",g=null,h={};e.prototype.init=function(){var c=this.element;c.on("mousedown touchstart",function(d){if(!g.isTouch()||"mousedown"!==d.type){c.find(".ripple-container").length||c.append('<div class="ripple-container"></div>');var e=c.children(".ripple-container"),f=g.getRelY(e,d),h=g.getRelX(e,d);if(f||h){var i=g.getRipplesColor(c),j=a("<div></div>");j.addClass("ripple").css({left:h,top:f,"background-color":i}),e.append(j),function(){return b.getComputedStyle(j[0]).opacity}(),g.rippleOn(c,j),setTimeout(function(){g.rippleEnd(j)},500),c.on("mouseup mouseleave touchend",function(){j.data("mousedown","off"),"off"===j.data("animating")&&g.rippleOut(j)})}}})},e.prototype.getNewSize=function(a,b){return Math.max(a.outerWidth(),a.outerHeight())/b.outerWidth()*2.5},e.prototype.getRelX=function(a,b){var c=a.offset();return g.isTouch()?(b=b.originalEvent,1===b.touches.length?b.touches[0].pageX-c.left:!1):b.pageX-c.left},e.prototype.getRelY=function(a,b){var c=a.offset();return g.isTouch()?(b=b.originalEvent,1===b.touches.length?b.touches[0].pageY-c.top:!1):b.pageY-c.top},e.prototype.getRipplesColor=function(a){var c=a.data("ripple-color")?a.data("ripple-color"):b.getComputedStyle(a[0]).color;return c},e.prototype.hasTransitionSupport=function(){var a=c.body||c.documentElement,b=a.style,e=b.transition!==d||b.WebkitTransition!==d||b.MozTransition!==d||b.MsTransition!==d||b.OTransition!==d;return e},e.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.prototype.rippleEnd=function(a){a.data("animating","off"),"off"===a.data("mousedown")&&g.rippleOut(a)},e.prototype.rippleOut=function(a){a.off(),g.hasTransitionSupport()?a.addClass("ripple-out"):a.animate({opacity:0},100,function(){a.trigger("transitionend")}),a.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.remove()})},e.prototype.rippleOn=function(a,b){var c=g.getNewSize(a,b);g.hasTransitionSupport()?b.css({"-ms-transform":"scale("+c+")","-moz-transform":"scale("+c+")","-webkit-transform":"scale("+c+")",transform:"scale("+c+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):b.animate({width:2*Math.max(a.outerWidth(),a.outerHeight()),height:2*Math.max(a.outerWidth(),a.outerHeight()),"margin-left":-1*Math.max(a.outerWidth(),a.outerHeight()),"margin-top":-1*Math.max(a.outerWidth(),a.outerHeight()),opacity:.2},500,function(){b.trigger("transitionend")})},a.fn.ripples=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document),angular.module("clientApp",["ngAnimate","ngRoute","ngSanitize","restangular","ngStorage","ngTouch"]).config(["$routeProvider","$httpProvider","RestangularProvider",function(a,b,c){c.setBaseUrl("https://travel-ex.herokuapp.com/api"),a.when("/",{redirectTo:"/application/new"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/applications",{templateUrl:"views/applications.html",controller:"ApplicationsCtrl"}).when("/application/new",{templateUrl:"views/new-application.html",controller:"NewApplicationCtrl"}).when("//application/:id/edit",{templateUrl:"views//application/:id/edit.html",controller:"ApplicationIdEditCtrl",controllerAs:"/application/:id/edit"}).when("/application/:id/edit",{templateUrl:"views/edit-application.html",controller:"EditApplicationCtrl",controllerAs:"editApplication"}).otherwise({templateUrl:"/404.html"}),b.defaults.transformRequest=function(a){return void 0===a?a:$.param(a)},b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",b.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",b.interceptors.push(["$q","$location","$localStorage",function(a,b,c){return{request:function(a){return a.headers=a.headers||{},c.token&&(a.headers["x-access-token"]=c.token),a},responseError:function(c){return(401===c.status||403===c.status)&&b.path("/login"),a.reject(c)}}}])}]).factory("ApplicationRestangular",["Restangular",function(a){return a.withConfig(function(a){a.setRestangularFields({id:"_id"})})}]).factory("Application",["ApplicationRestangular",function(a){return a.service("applications")}]),angular.module("clientApp").controller("MenuCtrl",["$scope","$location","$localStorage",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.menuAvailable=!0,a.doLogout=function(){c.token="",c.user_id="",b.path("/login")},a.openNavbar=function(){a.navbarOpened=!0},a.closeNavbar=function(){a.navbarOpened=!1},a.toggleNavbar=function(){a.navbarOpened=!a.navbarOpened}}]),angular.module("clientApp").controller("ApplicationsCtrl",["$scope","$location","Application","$localStorage",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var e=new Date,f=e.getFullYear(),g=e.getMonth()+1;a.init=function(){a.$parent.$parent.menuAvailable=!0,a.getApplicationList(),a.deleteConfirming=!1},a.getApplicationList=function(){a.isLoadingData=!0,a.target_ym=f.toString()+"/"+g.toString(),a.applications=c.getList({target_year:f,target_month:g,user_id:d.user_id}).$object,a.isLoadingData=!1},a.jumpToEdit=function(a){b.path("/application/"+a._id+"/edit")},a.previousMonthList=function(){1==g?(f-=1,g=12):g-=1,a.getApplicationList()},a.nextMonthList=function(){12==g?(f+=1,g=1):g+=1,a.getApplicationList()},a.openConfirm=function(b){a.application=b,a.confirming=!0},a.closeConfirm=function(){a.confirming=!1,a.deleteConfirming=!1},a.toggleConfirmDelete=function(){a.deleteConfirming=!a.deleteConfirming},a.deleteApplication=function(b){b.remove(),a.confirming=!1,a.deleteConfirming=!1,a.getApplicationList()}}]),angular.module("clientApp").controller("NewApplicationCtrl",["$scope","$http","$location","Application","$localStorage","$timeout",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var g={1:"電車",2:"バス",3:"タクシー"},h={1:"ICカード",2:"切符"},i={};a.init=function(){a.$parent.$parent.menuAvailable=!0;var b=new Date;a.application={user_id:e.user_id,target_year:b.year,target_month:b.month,use_date:b,traffic_type:"1",departure_place:"東京",arrival_place:"池袋",ticket_type:"1",round_trip_flag:!1,fare:270,manual_input_flag:!1,purpose:"お客様先、面談のため"},a.isRouteSearching=!0,a.routeActivePanel=0},a.selectTrafficType=function(b){a.application.traffic_type=b},a.selectTicketType=function(b){a.application.ticket_type=b},a.setFormValue=function(){if(a.routeErrors=[],a.application.traffic_type?a.application.traffic_type_view=g[a.application.traffic_type]:a.application.traffic_type_view="",a.application.ticket_type?a.application.ticket_type_view=h[a.application.ticket_type]:a.application.ticket_type_view="",a.application.via_place1?a.application.via_place_view=a.application.via_place1+"経由":a.application.via_place_view="",a.application.departure_place&&a.application.arrival_place&&"1"==a.application.traffic_type&&a.application.ticket_type){var c=a.application.departure_place+"駅",d=a.application.arrival_place+"駅",e="";a.application.via_place1&&(e=a.application.via_place1+"駅");var f={from:c,to:d,via1:e,ticket_type:a.application.ticket_type};if(f.from==i.from&&f.to==i.to&&f.ticket_type==i.ticket_type&&f.via1==i.via1)return;a.isRouteSearching=!0,b({method:"GET",url:"api/y_transit_info?from="+f.from+"&to="+f.to+"&via="+f.via1+"&ticket="+f.ticket_type,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b){!b.success||b.routes.length<1||(a.routes_info=b.routes,a.application.fare=b.routes[0].fare,i=f,a.isRouteSearching=!1)}).error(function(b,c){-1==c&&a.routeErrors.push("エラーが発生しました。"),a.isRouteSearching=!1})}},a.changeActivePanel=function(b,c){a.routeActivePanel=b,a.application.fare=c},a.saveApplication=function(){var b=new Date;a.application.target_year=a.application.use_date.getFullYear(),a.application.target_month=a.application.use_date.getMonth()+1,a.application.created_at=b,a.application.updated_at=b,d.post(a.application).then(function(){c.path("/applications")})},a.changeInputMode=function(b){a.inputMode=b},a.openConfirm=function(){a.confirming=!0},a.closeConfirm=function(){a.confirming=!1}}]),angular.module("clientApp").controller("LoginCtrl",["$scope","$location","$http","$localStorage",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.init=function(){a.$parent.$parent.menuAvailable=!1},a.doLogin=function(){a.errors=[];var e={user_id:a.userId,password:a.password};return a.userId?void c({method:"POST",url:"api/authenticate",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(c){return c.success?(d.token=c.token,d.user_id=e.user_id,console.log("auth successfully!"),void b.path("/application/new")):void a.errors.push(c.message)}).error(function(b){a.errors.push(b.message)}):void a.errors.push("ユーザーID、パスワードを入力してください。")},a.clearErrors=function(){a.errors=[]}}]),angular.module("clientApp").controller("EditApplicationCtrl",["$scope","$location","$routeParams","Application","$localStorage","$http",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var g={1:"電車",2:"バス",3:"タクシー"},h={1:"ICカード",2:"切符"},i={};a.$parent.$parent.menuAvailable=!0,d.one(c.id).get().then(function(c){a.routeActivePanel=0,a.application=c,a.application.use_date=new Date(a.application.use_date),a.selectTrafficType=function(b){a.application.traffic_type=b},a.selectTicketType=function(b){a.application.ticket_type=b},a.setFormValue=function(){if(a.routeErrors=[],a.application.traffic_type?a.application.traffic_type_view=g[a.application.traffic_type]:a.application.traffic_type_view="",a.application.ticket_type?a.application.ticket_type_view=h[a.application.ticket_type]:a.application.ticket_type_view="",a.application.via_place1?a.application.via_place_view=a.application.via_place1+"経由":a.application.via_place_view="",a.application.departure_place&&a.application.arrival_place&&"1"==a.application.traffic_type&&a.application.ticket_type){var b=a.application.departure_place+"駅",c=a.application.arrival_place+"駅",d=a.application.via_place1+"駅",e={from:b,to:c,via1:d,ticket_type:a.application.ticket_type};if(e.from==i.from&&e.to==i.to&&e.ticket_type==i.ticket_type&&e.via1==i.via1)return;a.isRouteSearching=!0,f({method:"GET",url:"api/y_transit_info?from="+e.from+"&to="+e.to+"&via="+e.via1+"&ticket="+e.ticket_type,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b){b.success&&(a.routes_info=b.routes,a.application.fare=b.routes[0].fare,i=e,a.isRouteSearching=!1)}).error(function(b,c){-1==c&&a.routeErrors.push("エラーが発生しました。"),a.isRouteSearching=!1})}},a.changeActivePanel=function(b,c){a.routeActivePanel=b,a.application.fare=c},a.saveApplication=function(){var c=new Date;a.application.target_year=a.application.use_date.getFullYear(),a.application.target_month=a.application.use_date.getMonth()+1,a.application.updated_at=c,a.application.save().then(function(){b.path("/applications")})},a.changeInputMode=function(b){a.inputMode=b},a.closeConfirm=function(){a.confirming=!1},a.openConfirm=function(){a.confirming=!0},a.closeConfirm=function(){a.confirming=!1}})}]),angular.module("clientApp").run(["$templateCache",function(a){"use strict";a.put("views/application-form.html",'<div class="show-form"> <div class="card card-raised card-carousel"> <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="false"> <div class="carousel slide" data-ride="carousel" data-interval="false"> <!-- Indicators --> <ol class="carousel-indicators" ng-hide="true"> <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li> <li data-target="#carousel-example-generic" data-slide-to="1"></li> <li data-target="#carousel-example-generic" data-slide-to="2"></li> <li data-target="#carousel-example-generic" data-slide-to="3"></li> <li data-target="#carousel-example-generic" data-slide-to="4"></li> <li data-target="#carousel-example-generic" data-slide-to="5"></li> <li data-target="#carousel-example-generic" data-slide-to="6"></li> <li data-target="#carousel-example-generic" data-slide-to="7"></li> <li data-target="#carousel-example-generic" data-slide-to="8"></li> </ol> <div class="container"> <div class="row"> <div class="col-xs-6 text-left text-info help-link p0"> <button class="btn btn-info btn-fab btn-simple"> <i class="material-icons">help</i> </button> </div> <div class="col-xs-6 text-right"> <a class="btn btn-info btn-round" ng-href="/#/applications"> <i class="material-icons">list</i> 一覧 <div class="ripple-container"></div> </a> </div> </div> </div> <div class="carousel-inner"> <div class="item active"> <ng-include src="\'views/application-forms/date.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/5_purpose.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/transportation.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/1_departure.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/2_arrival.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/3_via.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/payment.html\'"></ng-include> </div> <div class="item form-route"> <ng-include src="\'views/application-forms/4_route.html\'"></ng-include> </div> <div class="item"> <ng-include src="\'views/application-forms/fare.html\'"></ng-include> </div> </div> <div class="confirm-back-view" ng-show="confirming"></div> <div class="confirm-view" ng-show="confirming"> <ng-include src="\'views/application-forms/confirm.html\'"></ng-include> </div> <!-- Controls --> <div class="container"> <div class="row button-area" ng-class="{\'button-area-input\': inputMode}"> <div class="col-xs-4 text-left"> <button class="btn btn-warning btn-fab btn-previous" ng-click="setFormValue()" data-target="#carousel-example-generic" data-slide="prev"> <i class="material-icons">chevron_left</i> </button> </div> <div class="col-xs-4 text-center"> <button type="button" ng-click="setFormValue();openConfirm();" class="btn btn-simple btn-success btn-lg"> 確認 </button> </div> <div class="col-xs-4 text-right"> <button class="btn btn-warning btn-fab btn-next" ng-click="setFormValue()" data-target="#carousel-example-generic" data-slide="next"> <i class="material-icons">chevron_right</i> </button> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/1_departure.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>出発駅／出発地</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-edit"></i> </span> <div class="form-group is-empty"> <input type="text" class="form-control" placeholder="出発駅／出発地" ng-model="application.departure_place" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"><span class="material-input"></span> </div> <span class="input-group-addon">駅</span> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/2_arrival.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>到着駅／到着地</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-edit"></i> </span> <div class="form-group is-empty"> <input type="text" class="form-control" placeholder="到着駅／到着地" ng-model="application.arrival_place" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"><span class="material-input"></span> </div> <span class="input-group-addon">駅</span> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/3_via.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>経由駅／経由地(未記入でも可)</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-edit"></i> </span> <div class="form-group is-empty"> <input type="text" class="form-control" placeholder="経由駅／経由地" ng-model="application.via_place1" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"><span class="material-input"></span> </div> <span class="input-group-addon">駅</span> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/4_route.html",'<div class="container"> <div class="alert alert-danger error-alert" ng-show="routeErrors.length"> <div class="alert-icon"> <i class="material-icons">error_outline</i> </div> <button type="button" ng-click="routeErrors = []" class="close"> <span aria-hidden="true"><i class="material-icons">clear</i></span> </button> <b>エラー</b> <ul class="error-list"> <li ng-repeat="error in routeErrors">{{error}}</li> </ul> </div> <div class="card text-center" ng-show="isRouteSearching"> <img src="../../images/light_blue_material_design_loading.fa877745.gif"> <p class="text-muted">ルート検索中...</p> </div> <div class="card card-nav-tabs" ng-hide="isRouteSearching || routeErrors.length>0"> <div class="header header-info"> <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" --> <div class="nav-tabs-navigation"> <div class="nav-tabs-wrapper"> <ul class="nav nav-tabs"> <li ng-repeat="route in routes_info" ng-class="{&quot;active&quot;: ($index == routeActivePanel)}"> <a ng-click="changeActivePanel($index, route.fare)"> ルート{{$index + 1}} </a> </li> </ul> </div> </div> </div> <div class="content"> <div class="tab-content route-content text-center"> <div class="tab-pane" ng-repeat="route in routes_info" ng-class="{&quot;active&quot;: ($index == routeActivePanel)}"> <div class="route-panel"> <div class="text-left" ng-repeat="station in route.station"> <div class="station">{{station}}</div> <div class="line" ng-hide="$last">{{route.line[$index]}}</div> </div> </div> <div class="fare-panel text-success text-right">{{route.fare}}円</div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/5_purpose.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>目的</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-edit"></i> </span> <div class="form-group is-empty"><input type="text" class="form-control" placeholder="目的" ng-model="application.purpose" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"><span class="material-input"></span></div> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/confirm.html",'<div class="container confirm-page"> <div class="card card-signup confirm-card"> <div class="header header-warning text-center" style="padding: 2px 0px"> <h4>入力確認</h4> </div> <div class="content"> <div class="container"> <div class="row bb1ccc"> <div class="col-xs-3 text-left">利用日</div> <div class="col-xs-7 text-right">{{application.use_date | date: \'yyyy/M/d\'}}</div> <div class="col-xs-2 text-right text-success"> <span ng-click="closeConfirm()" data-target="#carousel-example-generic" data-slide-to="0"><i class="fa fa-edit"></i></span> </div> </div> <div class="row bb1ccc"> <div class="col-xs-3 text-left">目的</div> <div class="col-xs-7 text-right">{{application.purpose}}</div> <div class="col-xs-2 text-right text-success"> <span ng-click="closeConfirm()" data-target="#carousel-example-generic" data-slide-to="1"><i class="fa fa-edit"></i></span> </div> </div> <div class="row bb1ccc"> <div class="col-xs-4 text-left">交通手段</div> <div class="col-xs-6 text-right">{{application.traffic_type_view}}</div> <div class="col-xs-2 text-right text-success"> <span ng-click="closeConfirm()" data-target="#carousel-example-generic" data-slide-to="2"><i class="fa fa-edit"></i></span> </div> </div> <div class="row"> <div class="col-xs-4 text-left">利用ルート</div> <div class="col-xs-8 text-left"> {{application.departure_place}}<span ng-click="closeConfirm()" class="text-success" data-target="#carousel-example-generic" data-slide-to="3"><i class="fa fa-edit"></i></span> ~ {{application.arrival_place}}<span ng-click="closeConfirm()" class="text-success" data-target="#carousel-example-generic" data-slide-to="4"><i class="fa fa-edit"></i></span> </div> </div> <div class="row bb1ccc" ng-show="application.via_place_view.length > 0"> <div class="col-xs-4 text-left"></div> <div class="col-xs-8 text-left"> {{application.via_place_view}}<span ng-click="closeConfirm()" class="text-success" data-target="#carousel-example-generic" data-slide-to="5"><i class="fa fa-edit"></i></span> </div> </div> <div class="row bb1ccc"> <div class="col-xs-5 text-left">支払い方法</div> <div class="col-xs-5 text-right">{{application.ticket_type_view}}</div> <div class="col-xs-2 text-right text-success"> <span ng-click="closeConfirm()" data-target="#carousel-example-generic" data-slide-to="6"><i class="fa fa-edit"></i></span> </div> </div> <div class="row bb1ccc"> <div class="col-xs-4 text-left"></div> <div class="col-xs-3 text-right">料金</div> <div class="col-xs-3 text-right" ng-show="isRouteSearching"> <img src="../../images/light_blue_material_design_loading.fa877745.gif" style="width:38px;height:38px"> </div> <div class="col-xs-3 text-right text-success" ng-hide="isRouteSearching">{{application.fare}}円</div> <div class="col-xs-2 text-right text-success"> <span ng-click="closeConfirm()" data-target="#carousel-example-generic" data-slide-to="8"><i class="fa fa-edit"></i></span> </div> </div> </div> </div> <div class="text-center confirm-button-area"> <div> <button class="btn btn-success btn-round" ng-click="saveApplication()">入力完了</button> </div> <div> <button class="btn btn-muted btn-simple" ng-click="closeConfirm()">閉じる</button> </div> </div> </div> </div>'),a.put("views/application-forms/date.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>利用日は？</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <!-- <button class="btn btn-fab btn-xs btn-warning">\n								<i class="material-icons">keyboard_arrow_left</i>\n							</button> --> <i class="fa fa-edit"></i> </span> <div class="form-group label-static"> <input class="form-control" type="date" ng-model="application.use_date" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"> <span class="material-input"></span> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/fare.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>料金</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-edit"></i> </span> <div class="form-group is-empty"> <input type="text" class="form-control" placeholder="料金" ng-model="application.fare" ng-focus="changeInputMode(true)" ng-blur="changeInputMode(false)"><span class="material-input"></span> </div> <span class="input-group-addon">円</span> </div> </div> </div> </div> </div> </div>'),a.put("views/application-forms/payment.html",'<div class="container"> <div class="row"> <div class="col-md-2 col-md-offset-2 col-sm-2 col-sm-offset-2"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>支払い方法</h4> </div> <div class="content"> <ul class="nav nav-pills nav-pills-info" role="tablist"> <!--\n								color-classes: "nav-pills-primary", "nav-pills-info", "nav-pills-success", "nav-pills-warning","nav-pills-danger"\n	                        --> <li class="method-ic" ng-class="{&quot;active&quot;: application.ticket_type == &quot;1&quot;}"> <a role="tab" data-toggle="tab" aria-expanded="true" ng-click="selectTicketType(\'1\')"> <i class="material-icons">style</i> ICカード </a> </li> <li class="method-ticket" ng-class="{&quot;active&quot;: application.ticket_type == &quot;2&quot;}"> <a role="tab" data-toggle="tab" aria-expanded="false" ng-click="selectTicketType(\'2\')"> <i class="material-icons">local_offer</i> 切符 </a> </li> </ul> </div> </div> </div> </div> </div>'),a.put("views/application-forms/transportation.html",'<div class="container"> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <div class="header header-primary text-center"> <h4>交通手段</h4> </div> <div class="content"> <ul class="nav nav-pills nav-pills-info" role="tablist"> <!--\n								color-classes: "nav-pills-primary", "nav-pills-info", "nav-pills-success", "nav-pills-warning","nav-pills-danger"\n	                        --> <li ng-class="{&quot;active&quot;: application.traffic_type == &quot;1&quot;}"> <a role="tab" data-toggle="tab" aria-expanded="true" ng-click="selectTrafficType(\'1\')"> <i class="material-icons">directions_transit</i> 電車 </a> </li> <li ng-class="{&quot;active&quot;: application.traffic_type == &quot;2&quot;}"> <a role="tab" data-toggle="tab" aria-expanded="false" ng-click="selectTrafficType(\'2\')"> <i class="material-icons">directions_bus</i> バス </a> </li> <li ng-class="{&quot;active&quot;: application.traffic_type == &quot;3&quot;}"> <a role="tab" data-toggle="tab" ng-click="selectTrafficType(\'3\')"> <i class="material-icons">directions_car</i> タクシー </a> </li> </ul> </div> </div> </div> </div> </div>'),
a.put("views/application-show.html",'<div class="container confirm-page"> <div class="card card-signup confirm-card"> <div class="header header-warning text-center" style="padding: 2px 0px"> <h4>確認</h4> </div> <div class="content"> <div class="container"> <div class="row bb1ccc"> <div class="col-xs-3 text-left">利用日</div> <div class="col-xs-9 text-right">{{application.use_date | date: \'yyyy/M/d\'}}</div> </div> <div class="row bb1ccc"> <div class="col-xs-3 text-left">目的</div> <div class="col-xs-9 text-right">{{application.purpose}}</div> </div> <div class="row bb1ccc"> <div class="col-xs-4 text-left">交通手段</div> <div class="col-xs-8 text-right">{{application.traffic_type_view}}</div> </div> <div class="row"> <div class="col-xs-4 text-left">利用ルート</div> <div class="col-xs-8 text-left"> {{application.departure_place}} ~ {{application.arrival_place}} </div> </div> <div class="row bb1ccc" ng-show="application.via_place_view.length > 0"> <div class="col-xs-4 text-left"></div> <div class="col-xs-8 text-left"> {{application.via_place_view}} </div> </div> <div class="row bb1ccc"> <div class="col-xs-5 text-left">支払い方法</div> <div class="col-xs-7 text-right">{{application.ticket_type_view}}</div> </div> <div class="row bb1ccc"> <div class="col-xs-4 text-left"></div> <div class="col-xs-4 text-right">料金</div> <div class="col-xs-4 text-right text-success" ng-hide="isRouteSearching">{{application.fare}}円</div> </div> </div> </div> <div class="row confirm-button-area"> <div class="text-center" ng-hide="deleteConfirming"> <div class="col-xs-6"> <button class="btn btn-danger btn-round" ng-click="toggleConfirmDelete()">削除</button> </div> <div class="col-xs-6"> <button class="btn btn-primary btn-round" ng-click="jumpToEdit(application)">編集</button> </div> </div> <div class="delete-confirmation" ng-show="deleteConfirming"> <div class="col-xs-5 text-muted text-center">削除しますか？</div> <div class="col-xs-7 text-center"> <button class="btn btn-muted btn-round" ng-click="toggleConfirmDelete()">戻る</button> <button class="btn btn-danger btn-round" ng-click="deleteApplication(application)">削除</button> </div> </div> <div class="text-center"> <button class="btn btn-muted btn-simple" ng-click="closeConfirm()">閉じる</button> </div> </div> </div> </div>'),a.put("views/applications.html",'<div class="app container" ng-controller="ApplicationsCtrl" ng-init="init()"> <div class="application-list"> <div class="row list-header"> <div class="col-xs-4 text-left"> <button class="btn btn-warning btn-fab btn-month" ng-click="previousMonthList()"><i class="material-icons">chevron_left</i></button> </div> <div class="col-xs-4 text-center"> <h5>{{target_ym}}</h5> </div> <div class="col-xs-4 text-right"> <button class="btn btn-warning btn-fab btn-month" ng-click="nextMonthList()"><i class="material-icons">chevron_right</i></button> </div> </div> <div class="card text-center" ng-show="isLoadingData"> <img src="../images/light_blue_material_design_loading.fa877745.gif"> <p class="text-muted">読み込み中...</p> </div> <div class="items" ng-hide="isLoadingData" ng-repeat="application in applications | orderBy: \'use_date\': true" ng-click="openConfirm(application)"> <div class="row item-row"> <div class="col-xs-2 text-center p0" ng-class="{\'list-top-border\': (applications[applications.length - $index].use_date | date: \'d\') != (application.use_date | date: \'d\'), \'list-top-border-none\': (applications[applications.length - $index].use_date | date: \'d\') == (application.use_date | date: \'d\')}"> <div ng-show="(applications[applications.length - $index].use_date | date: \'d\') != (application.use_date | date: \'d\')" class="list-item-date text-primary" ng-class="{&quot;icon-image-transit-white&quot;: application.traffic_type == &quot;1&quot;, &quot;icon-image-bus-white&quot;: application.traffic_type == &quot;2&quot;, &quot;icon-image-car-white&quot;: application.traffic_type == &quot;3&quot;}"> <div class="list-item-date-filter"> {{application.use_date | date: \'d\'}} </div> </div> </div> <div class="col-xs-7 text-left list-top-border"> <div class="list-item-station text-muted"> {{application.departure_place}}~{{application.arrival_place}} </div> <div class="list-item-purpose"> {{application.purpose}} </div> </div> <div class="col-xs-3 p0 text-right text-large text-success list-item-fare list-top-border">{{application.fare}}円<i class="material-icons md-18 text-primary">keyboard_arrow_right</i></div> </div> </div> <div class="text-right right-bottom"> <a ng-href="/#/application/new" class="btn btn-primary btn-fab btn-round"> <i class="material-icons">add</i> <div class="ripple-container"></div> </a> </div> </div> <div class="confirm-back-view" ng-show="confirming"></div> <div class="show-view" ng-show="confirming"> <ng-include src="\'views/application-show.html\'"></ng-include> </div> </div>'),a.put("views/common/errors.html",'<div class="alert alert-danger" ng-show="errors.length > 0"> <div class="container-fluid"> <div class="alert-icon"> <i class="material-icons">error_outline</i> </div> <button type="button" ng-click="errors=[]" class="close"> <i class="material-icons">clear</i> </button> <b>Error</b> <ul> <li ng-repeat="error in errors">{{error}}</li> </ul> </div> </div>'),a.put("views/edit-application.html",'<div class="edit-application" ng-controller="EditApplicationCtrl"> <ng-include src="\'views/application-form.html\'"></ng-include> </div>'),a.put("views/login.html",'<div class="signup-page" ng-controller="LoginCtrl" ng-init="init()"> <div class="container"> <div class="alert alert-danger error-alert" ng-show="errors.length"> <div class="alert-icon"> <i class="material-icons">error_outline</i> </div> <button type="button" ng-click="clearErrors()" class="close"> <span aria-hidden="true"><i class="material-icons">clear</i></span> </button> <b>エラー</b> <ul class="error-list"> <li ng-repeat="error in errors">{{error}}</li> </ul> </div> <div class="row"> <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="card card-signup"> <form class="form" method="" action=""> <div class="header header-primary text-center"> <h4>ログイン</h4> </div> <div class="content"> <div class="input-group"> <span class="input-group-addon"> <i class="material-icons">face</i> </span> <div class="form-group is-empty"><input type="text" class="form-control" placeholder="ユーザーID" ng-model="userId"><span class="material-input"></span></div> </div> <div class="input-group"> <span class="input-group-addon"> <i class="material-icons">lock_outline</i> </span> <div class="form-group is-empty"><input type="password" placeholder="パスワード" class="form-control" ng-model="password"><span class="material-input"></span></div> </div> <!-- If you want to add a checkbox to this form, uncomment this code\n\n							<div class="checkbox">\n								<label>\n									<input type="checkbox" name="optionsCheckboxes" checked>\n									Subscribe to newsletter\n								</label>\n							</div> --> <div class="text-right"> <a class="btn btn-primary" ng-click="doLogin()">ログイン</a> </div> </div> </form> </div> </div> </div> </div> </div>'),a.put("views/new-application.html",'<div class="new-application" ng-controller="NewApplicationCtrl" ng-init="init()"> <ng-include src="\'views/application-form.html\'"></ng-include> </div>')}]);